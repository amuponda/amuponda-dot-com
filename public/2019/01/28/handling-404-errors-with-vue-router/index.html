<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Handling 404 errors with Vue Router - A. Muponda</title><meta name="Description" content="This is my cool site"><meta property="og:title" content="Handling 404 errors with Vue Router" />
<meta property="og:description" content="Using the asterisk (*) in the Vue Router object definitions allows you to match anything, you just have to be careful and place them at the end of your routes array so that precise paths are matched first.
Therefore, to handle 404 errors, all you will have to do is match the catch all path to your 404 error component. The Vue Router object would be defined like so:
new Router({ routes: \[ { path: &#39;/blog-post/:id&#39; name: &#39;blogPost&#39;, component: BlogPost }, { // matches everything else	path: &#39;\*&#39;, name: &#39;notFound&#39; component: NotFound } \]	}) As you can see, it&rsquo;s dead simple." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://amuponda.com/2019/01/28/handling-404-errors-with-vue-router/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-01-28T05:54:05+00:00" />
<meta property="article:modified_time" content="2019-01-28T05:54:05+00:00" /><meta property="og:site_name" content="A. Muponda" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Handling 404 errors with Vue Router"/>
<meta name="twitter:description" content="Using the asterisk (*) in the Vue Router object definitions allows you to match anything, you just have to be careful and place them at the end of your routes array so that precise paths are matched first.
Therefore, to handle 404 errors, all you will have to do is match the catch all path to your 404 error component. The Vue Router object would be defined like so:
new Router({ routes: \[ { path: &#39;/blog-post/:id&#39; name: &#39;blogPost&#39;, component: BlogPost }, { // matches everything else	path: &#39;\*&#39;, name: &#39;notFound&#39; component: NotFound } \]	}) As you can see, it&rsquo;s dead simple."/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://amuponda.com/2019/01/28/handling-404-errors-with-vue-router/" /><link rel="prev" href="https://amuponda.com/2019/01/15/veevalidate-pretty-field-names-error-messages-in/" /><link rel="next" href="https://amuponda.com/2019/02/21/logging-sql-statements-in-grails-3/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Handling 404 errors with Vue Router",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/amuponda.com\/2019\/01\/28\/handling-404-errors-with-vue-router\/"
        },"genre": "posts","keywords": "vue-router, Vue.js, vuejs","wordcount":  381 ,
        "url": "https:\/\/amuponda.com\/2019\/01\/28\/handling-404-errors-with-vue-router\/","datePublished": "2019-01-28T05:54:05+00:00","dateModified": "2019-01-28T05:54:05+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Author"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="A. Muponda">atm</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="A. Muponda">atm</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Handling 404 errors with Vue Router</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2019-01-28">2019-01-28</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;381 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;2 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#programatic-navigation-to-404-page">Programatic navigation to 404 page</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Using the asterisk (<code>*</code>) in the Vue Router object definitions allows you to match anything, you just have to be careful and place them at the end of your routes array so that precise paths are matched first.</p>
<p>Therefore, to handle 404 errors, all you will have to do is match the catch all path to your 404 error component. The Vue Router object would be defined like so:</p>
<pre tabindex="0"><code>new Router({
 routes: \[
 	{
 	  path: &#39;/blog-post/:id&#39;
 	  name: &#39;blogPost&#39;,
 	  component: BlogPost
 	},
 	{
 	  // matches everything else	
 	  path: &#39;\*&#39;,
 	  name: &#39;notFound&#39;
 	  component: NotFound
 	}
 \]		
}) 
</code></pre><p>As you can see, it&rsquo;s dead simple. The tricky bit comes when you want to programatically navigate to the 404 page.</p>
<h3 id="programatic-navigation-to-404-page">Programatic navigation to 404 page</h3>
<p>Suppose you want redirect the user to the 404 page when they request a blog post that does not exist. You could achieve this in your navigation guards as shown below:</p>
<pre tabindex="0"><code>import router from &#39;../router&#39;
...
// in component guards
beforeRouteEnter (to, from, next) {
  axios.get(\`/api/posts/${to.params.id}\`).then(response =&gt; {
    next(vm =&gt; {
      vm.post = response.data.post
    })
  })
    .catch(reason =&gt; {
      if (reason.response.status === 404) {
         router.push({ name: &#39;notFound&#39;, params: { &#39;0&#39;: to.path } })
      } 
    })
},
beforeRouteUpdate (to, from, next) {
  axios.get(\`/api/posts/${to.params.id}\`).then(response =&gt; {
    this.post = response.data.post
    next()
  })
    .catch(reason =&gt; {
       router.push({ name: &#39;notFound&#39;, params: { &#39;0&#39;: to.path } })
    })
}
</code></pre><p><em>Because we are redirecting to an <code>*</code> the router does not know what path to put in the location, so you have to pass that path in</em>. You do that by passing the <code>'0'</code> parameter in your call to <code>router.push()</code>. If you do not do this you will get the error below:</p>
<p><code>missing param for named route &quot;notFound&quot;: Expected &quot;0&quot; to be defined</code></p>
<p>An approach I have seen others take when tackling this issue is to define two routes:</p>
<pre tabindex="0"><code>\[
  ...  
  { path: &#39;/404&#39;, component: NotFound },  
  { path: &#39;\*&#39;, redirect: &#39;/404&#39; },  
  ...  
\]
</code></pre><p>And have the the catch all redirect to specific path. What I dislike about this approach is that it does not preserve the offending URL.</p>
<p>This blog post has detailed how to programatically navigate to the 404 page in your Vue.js (2.2+) apps whilst maintaining the URL of the request in question. An example app showing this functionality is available on <a href="https://github.com/amuponda/blog-posts/tree/master/vue-page-not-found" target="_blank" rel="noopener noreffer ">github</a>.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2019-01-28</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://amuponda.com/2019/01/28/handling-404-errors-with-vue-router/" data-title="Handling 404 errors with Vue Router" data-hashtags="vue-router,Vue.js,vuejs"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://amuponda.com/2019/01/28/handling-404-errors-with-vue-router/" data-hashtag="vue-router"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://amuponda.com/2019/01/28/handling-404-errors-with-vue-router/" data-title="Handling 404 errors with Vue Router"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://amuponda.com/2019/01/28/handling-404-errors-with-vue-router/" data-title="Handling 404 errors with Vue Router"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://amuponda.com/2019/01/28/handling-404-errors-with-vue-router/" data-title="Handling 404 errors with Vue Router"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/vue-router/">vue-router</a>,&nbsp;<a href="/tags/vue.js/">Vue.js</a>,&nbsp;<a href="/tags/vuejs/">vuejs</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/2019/01/15/veevalidate-pretty-field-names-error-messages-in/" class="prev" rel="prev" title="VeeValidate pretty field names error messages in"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>VeeValidate pretty field names error messages in</a>
            <a href="/2019/02/21/logging-sql-statements-in-grails-3/" class="next" rel="next" title="Logging SQL statements in Grails 3">Logging SQL statements in Grails 3<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.105.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
